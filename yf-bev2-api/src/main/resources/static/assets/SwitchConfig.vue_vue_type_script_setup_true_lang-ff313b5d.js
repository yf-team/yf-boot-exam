import{L as e,d as a,V as l,r as t,M as s,y as o,z as i,o as u,i as d,w as n,f as r,s as c,a as m,K as f,W as g}from"./index-20708d06.js";const p=a({__name:"SwitchConfig",setup(a){const p=l(),v=t({userReg:!1,loginTick:0}),_=t(),V=s({siteName:[{required:!0,message:"系统名称不能为空！",trigger:"blur"}]}),h=()=>{e.post({url:"/api/sys/config/switch/detail",data:{}}).then((e=>{v.value=e.data}))},b=a=>{a&&a.validate((a=>{if(a){const a=m(v);(l=a,e.post({url:"/api/sys/config/switch/save",data:l})).then((()=>{f({showClose:!0,message:"保存成功！",type:"success"}),(async()=>{await g({}).then((e=>{p.setSiteInfo(e.data)}))})()}))}var l}))};return o((()=>{h()})),(e,a)=>{const l=i("el-switch"),t=i("el-form-item"),s=i("el-radio"),o=i("el-button"),m=i("el-form");return u(),d(m,{ref_key:"formRef",ref:_,model:v.value,rules:V,"label-position":"left","label-width":"120px"},{default:n((()=>[r(t,{label:"新用户注册"},{default:n((()=>[r(l,{modelValue:v.value.userReg,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value.userReg=e),"active-color":"#13ce66","active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])])),_:1}),r(t,{label:"允许多处登录"},{default:n((()=>[r(s,{modelValue:v.value.loginTick,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value.loginTick=e),label:0},{default:n((()=>[c("允许多处登录")])),_:1},8,["modelValue"]),r(s,{modelValue:v.value.loginTick,"onUpdate:modelValue":a[2]||(a[2]=e=>v.value.loginTick=e),label:1},{default:n((()=>[c("将前面的账号踢下线")])),_:1},8,["modelValue"])])),_:1}),r(t,null,{default:n((()=>[r(o,{type:"primary",onClick:a[3]||(a[3]=e=>b(_.value))},{default:n((()=>[c("保存")])),_:1})])),_:1})])),_:1},8,["model","rules"])}}});export{p as _};
