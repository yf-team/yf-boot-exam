import{d as e,V as l,r as a,M as o,y as t,z as u,o as s,i as d,w as i,f as n,s as m,W as r,a as p,X as g,K as f}from"./index-20708d06.js";import{F as _}from"./FileUploader-7122b3d5.js";import{_ as c}from"./style.css_vue_type_style_index_0_src_true_lang-5ff1785b.js";const V=e({__name:"BaseConfig",setup(e){const V=l(),v=a({loginLogo:"",siteName:"",loginBg:"",backLogo:"",copyRight:""}),y=a(),b=o({siteName:[{required:!0,message:"系统名称不能为空！",trigger:"blur"}]}),h=e=>{e&&e.validate((e=>{if(e){const e=p(v);g(e).then((()=>{f({showClose:!0,message:"操作成功！",type:"success"}),(async()=>{await r({}).then((e=>{V.setSiteInfo(e.data)}))})()}))}}))};return t((()=>{r({}).then((e=>{v.value=e.data}))})),(e,l)=>{const a=u("el-input"),o=u("el-form-item"),t=u("el-button"),r=u("el-form");return s(),d(r,{ref_key:"formRef",ref:y,model:v.value,rules:b,"label-width":"100px"},{default:i((()=>[n(o,{label:"系统名称",prop:"siteName"},{default:i((()=>[n(a,{modelValue:v.value.siteName,"onUpdate:modelValue":l[0]||(l[0]=e=>v.value.siteName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),n(o,{label:"登录页图标",prop:"loginLogo"},{default:i((()=>[n(_,{modelValue:v.value.loginLogo,"onUpdate:modelValue":l[1]||(l[1]=e=>v.value.loginLogo=e)},null,8,["modelValue"])])),_:1}),n(o,{label:"登录页背景",prop:"loginBg"},{default:i((()=>[n(_,{modelValue:v.value.loginBg,"onUpdate:modelValue":l[2]||(l[2]=e=>v.value.loginBg=e)},null,8,["modelValue"])])),_:1}),n(o,{label:"后台图标",prop:"backLogo"},{default:i((()=>[n(_,{modelValue:v.value.backLogo,"onUpdate:modelValue":l[3]||(l[3]=e=>v.value.backLogo=e)},null,8,["modelValue"])])),_:1}),n(o,{label:"底部信息",prop:"copyRight"},{default:i((()=>[n(c,{ref:"editorRef",modelValue:v.value.copyRight,"onUpdate:modelValue":l[4]||(l[4]=e=>v.value.copyRight=e),height:"200px"},null,8,["modelValue"])])),_:1}),n(o,null,{default:i((()=>[n(t,{type:"primary",onClick:l[5]||(l[5]=e=>h(y.value))},{default:i((()=>[m("保存")])),_:1})])),_:1})])),_:1},8,["model","rules"])}}});export{V as _};
